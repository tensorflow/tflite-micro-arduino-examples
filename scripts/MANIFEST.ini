#
# This file is parsed by the create_tflm_arduino.py script using
# https://docs.python.org/3/library/configparser.html
#
# Section names are case insensitive and contain white space characters.
# Key names may not contain white space, and are case sensitive.
# Values for keys can span multiple lines (one value per line).
# Either # or ; can be used as a comment character, however there are
# no inline comments allowed 
#
# The following sections are required:
#   DEFAULT
#   Add Files
#   Remove Files
# All other sections are optional, and represent special operations
# that can be performed on repository or base directory files.  The
# optional sections can be of any unique name, and are executed in
# alphanumeric order.  Optional sections without keys are not allowed.
#
# Optional sections containing the <sed_scripts> key must also contain
# the <files> key.  The <files> key here is required to have one or more
# values.  The values represent files in the output directory.
# The <sed_scripts> value is required to contain one or more SED
# (Stream EDitor) scripts, with one script per line.
# All SED scripts are applied to all specified files.
#
# Optional sections not containing the above previously documented keys are
# required to contain either the <from_repo> or <from> key, and the value of
# that key must not be empty.  The <from_repo> value represents a file in the
# repository, and the <from> value represents a file in the base directory.
# Furthermore, the section must contain the <to> key, and the value of that
# key must not be empty.  The <to> value represents the file in the output
# directory. Files are copied from the repository or base directory to the
# output directory, with some platform specific transformation of the file
# contents.

#
# Required section.
#
# Currently empty, but can be used to specify default key-values for all
# other sections.
#
[DEFAULT]
# currently empty

#
# Required section.
#
# The <files> key is required, however the value is allowed to be empty.
# The <files> values are the files in the repository that will be copied
# without modification to the output directory.  The value may be either
# a file or directory path.
#
[Add Files]
files =
    library.properties
    src/TensorFlowLite.h
    src/tensorflow/lite/micro/system_setup.cpp
    src/tensorflow/lite/micro/debug_log.cpp
    examples/

#
# Required section.
#
# The <files> key is required, however the value is allowed to be empty.
# The <files> values are the files in the base directory that will not
# be copied to the output directory.  The value may be either a file or
# directory path.
#
[Remove Files]
files =
    tensorflow/lite/micro/system_setup.cc
    tensorflow/lite/micro/debug_log.cc
    tensorflow/lite/micro/arduino/system_setup.cc
    tensorflow/lite/micro/arduino/debug_log.cc
    examples/

#
# move model data for person detection example from the
# third_party directory to the example directory
#
[person_detect_model]
from = third_party/person_model_int8/person_detect_model_data.cc
to = examples/person_detection/person_detect_model_data.cpp

#
# patch base.h to include <utility> instead of <utility.h>
#
[patch flatbuffers]
files =
    src/third_party/flatbuffers/include/flatbuffers/base.h
sed_scripts =
    's/utility\.h/utility/g'

#
# patch kiss_fft.h to remove <string.h> include
#
[patch kissfft]
files =
    src/third_party/kissfft/kiss_fft.h
sed_scripts =
  	's@#include <string.h>@//#include <string.h>\n/* Patched by create_tflm_arduino.py for Arduino compatibility */@g'
